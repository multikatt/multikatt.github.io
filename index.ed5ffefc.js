class t{constructor(){this.speed=250,this.update=t=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBorder(),t-this.time.prev>this.speed&&this.active_tetromino.pos_y<20&&(this.active_tetromino.pos_y+=1,this.active_tetromino.build_tetromino(),this.time.prev=t),this.active_tetromino.draw(),window.requestAnimationFrame(this.update)},this.canvas=document.getElementById("Game"),this.ctx=this.canvas.getContext("2d"),this.time={start:0,prev:0}}start(){this.drawBorder(),window.requestAnimationFrame(this.update);const t=new s;t.build_tetromino(),this.active_tetromino=t,t.draw(),this.input()}drawBorder(t=12,s=22){const e=[];for(let o=0;o<t;o++)for(let r=0;r<s;r++)0!=r&&r!=s-1&&0!=o&&o!=t-1||e.push(new i(o,r,"grey"));e.forEach((t=>t.draw()))}input(){window.addEventListener("keyup",(t=>{switch(t.code){case"ArrowLeft":this.active_tetromino.pos_x>1&&(this.active_tetromino.pos_x-=1,this.active_tetromino.build_tetromino());break;case"ArrowRight":this.active_tetromino.pos_x<7&&(this.active_tetromino.pos_x+=1,this.active_tetromino.build_tetromino());break;case"Space":case"ArrowDown":console.log("down")}}))}}class i extends t{constructor(t,i,s){super(),this.pos_x=t,this.pos_y=i,this.color=s,this.size=20,this.margin=2}draw(){this.ctx.fillStyle=this.color,this.ctx.fillRect(this.pos_x*(this.size+this.margin),this.pos_y*(this.size+this.margin),this.size,this.size)}}class s{build_tetromino(){this.straight.blocks=[],this.straight.shape.forEach(((t,s)=>{this.straight.blocks.push(new i(this.pos_x+s,this.pos_y,"blue"))}))}draw(){this.straight.blocks.forEach((t=>{t.draw()}))}constructor(){this.straight={shape:[1,1,1,1],color:"blue",blocks:[]},this.pos_x=4,this.pos_y=1}}(new t).start();
//# sourceMappingURL=index.ed5ffefc.js.map
